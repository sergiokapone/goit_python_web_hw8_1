# Домашнє завдання #8

Робота з базою [`MongoDB`](https://www.mongodb.com/)[^1] за допомогою [`ODM MongoEngine`](https://docs.mongoengine.org/)[^2].

[^1]: Документо-орієнтована система керування базами даних (СКБД) з відкритим вихідним кодом, яка не потребує опису схеми таблиць. `MongoDB` займає нішу між швидкими і масштабованими системами, що оперують даними у форматі ключ/значення, і реляційними СКБД, функціональними і зручними у формуванні запитів.
[^2]: `MongoEngine` - це об'єктно-документний маппер (Object-Document Mapper), написаний на Python для роботи з MongoDB.

## Вигляд вікна проекту

[Вигляд програми](./pictures/view.png)

## Установка і запуск проекту

Для управління залежностями проекту використовується `pipenv`. Необхідно встановити `pipenv` перед виконанням наступних кроків:

- Склонируйте репозиторий:

  ```shell
  git clone https://github.com/sergiokapone/goit_python_web_hw8_1_.git
  ```

- Для встановлення залежностей використайте команду `pipenv install` або `pipenv sync`.

## Сртуктура проекту

```text
.
├── database/
│   ├── connect.py          # Код для керування підключенням до бази даних
│   └──  models.py          # Визначення моделей даних
├── Pipfile
├── authors.json            # Джерело авторів для внесення в базу
├── quotes.json             # Джерело цитат для внесення в базу
├── config.ini              # Налаштування для підключення до бази даних
├── README.MD               # Цей файл
├── upload.py               # Код для заповнення бази даних початковими даними
└── query.py                # Код виконання запитів до бази даних
```

## Заповнення бази даних

Для заповнення бази даних можна скористатись командою `python upload.py`. Файл `upload.py`
містить сценарій для завантаження данних з файлів `authors.json` та `quotes.json` до бази данних.

## Запити до бази данних

`query.py` є інтерфейсом командного рядка (CLI). який дає змогу взаємодіяти з базою даних студентів із командного рядка.

## Кешування даних за допомогою `Redis`

Програма вимірює час отримання даних. Якщо дані були отримані з бази даних, то виводиться відповідь:

```text
Data received from database
```

якщо з кешу, то

```text
Data received from cache
```

## Команди для виконання запитів

`name list` - виводить список усіх імен авторів.
`tags` - виводить список усіх доступних тегів.
`name:` <ім'я_автора> - виводить цитати автора за заданим ім'ям.
`tag:` <тег> - виводить цитати за заданим тегом.
`tags:` <тег_1>, <тег_2>, ... - виводить цитати, які містять усі задані теги.
`exit` - завершує виконання програми.

Програма має особливість, яка дозволяє скорочено задавати значення для пошуку за ім'ям автора та тегом.

`name:<початкові літери імені>`
`tag:<початкові літери тегів>`

Приклад:

- `name:st` - пошук цитат авторів, прізвища яких починаються на `St`.
- `tag:li` - пошук цитат авторыв, які мають теги, що містять на початку літери `li`.
